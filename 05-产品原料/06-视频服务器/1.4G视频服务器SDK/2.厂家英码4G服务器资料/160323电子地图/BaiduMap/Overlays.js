var iconMap=new Map;
function createIcon(a){if(null!=a.ImageUrl&&""!=a.ImageUrl){var b=null==a.ImageOffsetX?0:a.ImageOffsetX,d=null==a.ImageOffsetY?0:a.ImageOffsetY,e=null==a.AnchorX?DEFAULT_MARKERICON_ANCHORX:a.AnchorX,c=null==a.AnchorY?DEFAULT_MARKERICON_ANCHORY:a.AnchorY,f=null==a.InfoWindowAnchorX?DEFAULT_MARKERICON_INFOWINDOWANCHORX:a.InfoWindowAnchorX,g=null==a.InfoWindowAnchorY?DEFAULT_MARKERICON_INFOWINDOWANCHORY:a.InfoWindowAnchorY;return new BMap.Icon(a.ImageUrl,new BMap.Size(null==a.Width?DEFAULT_MARKERICON_WIDTH:
a.Width,null==a.Height?DEFAULT_MARKERICON_HEIGHT:a.Height),{anchor:new BMap.Size(e,c),imageOffset:new BMap.Size(b,d),infoWindowAnchor:new BMap.Size(f,g)})}return null}function getDefaultIcon(a){var b=iconMap.get(a);if(null!=b)return b;for(i=0;i<DEFAULT_ICONLIST.length;i++)if(DEFAULT_ICONLIST[i].Name==a)return b=createIcon(DEFAULT_ICONLIST[i].Icon),iconMap.put(a,b),b;return null}
function updateIcon(a,b){return null!=a?(null==b.ImageUrl&&""==b.ImageUrl||a.setImageUrl(b.ImageUrl),null==b.Width?null:a.size.width=b.Width,null==b.Height?null:a.size.height=b.Height,null==b.ImageOffsetX?null:a.imageOffset.width=b.ImageOffsetX,null==b.ImageOffsetY?null:a.imageOffset.height=b.ImageOffsetY,null==b.AnchorX?null:a.anchor.width=b.AnchorX,null==b.AnchorY?null:a.anchor.height=b.AnchorY,null==b.InfoWindowAnchorX?null:a.anchor.width=b.InfoWindowAnchorX,null==b.InfoWindowAnchorY?null:a.anchor.height=
b.InfoWindowAnchorY,a):null}function fixMarkerIcon(a,b){try{var d=eval("("+b+")")}catch(e){return!1}var c=markerMap.get(a);if(null==c)return!1;updateIcon(c.getIcon(),d.Icon);return!0}function getDefaultIconNames(){var a=[];for(i=0;i<DEFAULT_ICONLIST.length;i++)a[i]=DEFAULT_ICONLIST[i].Name;return a.toString()};